<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PHP Hands On Note | ByteLogs</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="It&amp;#39;s a mirror of ByteLogs repo">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.1a8e0fbc.css" as="style"><link rel="preload" href="/assets/js/app.89a1812a.js" as="script"><link rel="preload" href="/assets/js/2.733019b2.js" as="script"><link rel="preload" href="/assets/js/22.b40203fe.js" as="script"><link rel="prefetch" href="/assets/js/10.23033a15.js"><link rel="prefetch" href="/assets/js/11.6a012504.js"><link rel="prefetch" href="/assets/js/12.dcf1ca32.js"><link rel="prefetch" href="/assets/js/13.893689a7.js"><link rel="prefetch" href="/assets/js/14.fd83d958.js"><link rel="prefetch" href="/assets/js/15.f31e0b5b.js"><link rel="prefetch" href="/assets/js/16.47e21596.js"><link rel="prefetch" href="/assets/js/17.6f4ca982.js"><link rel="prefetch" href="/assets/js/18.39f3124c.js"><link rel="prefetch" href="/assets/js/19.dbd100df.js"><link rel="prefetch" href="/assets/js/20.20d4635b.js"><link rel="prefetch" href="/assets/js/21.6813e471.js"><link rel="prefetch" href="/assets/js/23.a3a3e631.js"><link rel="prefetch" href="/assets/js/24.8dc400ea.js"><link rel="prefetch" href="/assets/js/25.e10640bd.js"><link rel="prefetch" href="/assets/js/26.2a727583.js"><link rel="prefetch" href="/assets/js/27.998d0edc.js"><link rel="prefetch" href="/assets/js/28.4d41a346.js"><link rel="prefetch" href="/assets/js/29.b9b4dfd5.js"><link rel="prefetch" href="/assets/js/3.d57df74c.js"><link rel="prefetch" href="/assets/js/30.72c760be.js"><link rel="prefetch" href="/assets/js/31.8c79d0e6.js"><link rel="prefetch" href="/assets/js/32.57ad5854.js"><link rel="prefetch" href="/assets/js/33.4988cc63.js"><link rel="prefetch" href="/assets/js/34.51f0264d.js"><link rel="prefetch" href="/assets/js/4.da3ef268.js"><link rel="prefetch" href="/assets/js/5.dac787d8.js"><link rel="prefetch" href="/assets/js/6.2d0a63f8.js"><link rel="prefetch" href="/assets/js/7.307492ca.js"><link rel="prefetch" href="/assets/js/8.c3b3eeb0.js"><link rel="prefetch" href="/assets/js/9.3c5a8fdb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1a8e0fbc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ByteLogs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/vue.html" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://github.com/Muhammad-Sarfaraz/ByteLogs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/vue.html" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://github.com/Muhammad-Sarfaraz/ByteLogs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" aria-current="page" class="sidebar-link">Hello</a></li><li><a href="/guide/vue/guide.html" class="sidebar-link">Vue js</a></li><li><a href="/guide/vue/script.html" class="sidebar-link">Script</a></li><li><a href="/guide/vue/util.html" class="sidebar-link">Util:</a></li><li><a href="/guide/javascript/guide.html" class="sidebar-link">Hands on Note for Javascript</a></li><li><a href="/guide/javascript/script.html" class="sidebar-link">Script:</a></li><li><a href="/guide/javascript/axios/guide.html" class="sidebar-link">Hands on Note for Axios</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="php-hands-on-note"><a href="#php-hands-on-note" class="header-anchor">#</a> PHP Hands On Note</h1> <h4 id="design-pattern"><a href="#design-pattern" class="header-anchor">#</a> Design Pattern:</h4> <h6 id="service"><a href="#service" class="header-anchor">#</a> Service:</h6> <h4 id="function-default-parameter-value"><a href="#function-default-parameter-value" class="header-anchor">#</a> Function default parameter value:</h4> <div class="language- extra-class"><pre class="language-text"><code>function foo($param = 'foo')
{
    return $param;
}
$a = foo();
</code></pre></div><h4 id="grouped-use-statement"><a href="#grouped-use-statement" class="header-anchor">#</a> Grouped use statement:</h4> <div class="language- extra-class"><pre class="language-text"><code>use Symfony\Component\HttpKernel\{
    Controller\ControllerResolverInterface,
    Exception\NotFoundHttpException,
    Event\PostResponseEvent,
};
</code></pre></div><h4 id="union-type"><a href="#union-type" class="header-anchor">#</a> Union type:</h4> <div class="language- extra-class"><pre class="language-text"><code>function myFunction(string|int|array $param): string|int|array
{
    return $param;
}
</code></pre></div><h4 id="nullable-type"><a href="#nullable-type" class="header-anchor">#</a> Nullable type:</h4> <div class="language- extra-class"><pre class="language-text"><code>function foo($param)
{
    return $param;
}
$a = foo(null);
</code></pre></div><h4 id="elvis-operator"><a href="#elvis-operator" class="header-anchor">#</a> Elvis operator</h4> <div class="language- extra-class"><pre class="language-text"><code>$a = null;
$b = $a ?: 'fallback';
</code></pre></div><h4 id="short-colusure"><a href="#short-colusure" class="header-anchor">#</a> Short colusure:</h4> <div class="language- extra-class"><pre class="language-text"><code>fn foo($bar) =&gt; $bar + 1;
</code></pre></div><h4 id="nullsafe-operator"><a href="#nullsafe-operator" class="header-anchor">#</a> Nullsafe operator:</h4> <div class="language- extra-class"><pre class="language-text"><code>$a = null;
$b = $a?-&gt;foo;
// $b = null
$c = $a?-&gt;foo();
// $c = null
</code></pre></div><h4 id="everyday"><a href="#everyday" class="header-anchor">#</a> Everyday:</h4> <h6 id="if-else"><a href="#if-else" class="header-anchor">#</a> IF/ELSE</h6> <div class="language- extra-class"><pre class="language-text"><code> $content = $response instanceof BinaryFileResponse
            ? $response-&gt;getFile()-&gt;getContent()
            : $response-&gt;getContent();
</code></pre></div><h6 id="pipeline"><a href="#pipeline" class="header-anchor">#</a> Pipeline</h6> <div class="language- extra-class"><pre class="language-text"><code> return (new Pipeline)-&gt;send($request)
    -&gt;through([
        new EnsureOnNakedDomain,
        new RedirectStaticAssets,
        new EnsureVanityUrlIsNotIndexed,
        new EnsureBinaryEncoding(),
    ])-&gt;then(function ($request) use ($context) {
        static::$worker-&gt;handle($request, $context);
        return static::$response-&gt;response;
    });
</code></pre></div><h6 id="tap"><a href="#tap" class="header-anchor">#</a> Tap</h6> <div class="language- extra-class"><pre class="language-text"><code>return tap(new Response(
            $content,
            $response-&gt;headers-&gt;all(),
            $response-&gt;getStatusCode()
        ), static function () {
            static::$response = null;
        });
</code></pre></div><h6 id="use-pointer"><a href="#use-pointer" class="header-anchor">#</a> Use Pointer</h6> <div class="language- extra-class"><pre class="language-text"><code>if (empty($segment = substr($segment, 0, -1))) {
    $pointer = &amp;$pointer[];
}
</code></pre></div><h6 id="mono-static"><a href="#mono-static" class="header-anchor">#</a> Mono Static</h6> <div class="language- extra-class"><pre class="language-text"><code>static::$logger = new MonologLogger('vapor', [
    (new StreamHandler('php://stderr'))-&gt;setFormatter(new JsonFormatter),
]);
</code></pre></div><h6 id="tap-and-static"><a href="#tap-and-static" class="header-anchor">#</a> Tap and static</h6> <div class="language- extra-class"><pre class="language-text"><code>return tap(static::all($path, (array) $parameters), function ($variables) {
    foreach ($variables as $key =&gt; $value) {
        echo &quot;Injecting secret [{$key}] into runtime.&quot;.PHP_EOL;

        $_ENV[$key] = $value;
        $_SERVER[$key] = $value;
    }
});
</code></pre></div><h4 id="working-with-json"><a href="#working-with-json" class="header-anchor">#</a> Working with json:</h4> <div class="language- extra-class"><pre class="language-text"><code>// Load the contents of the JSON files
    $districtOldData = json_decode(File::get(database_path('districtOld.json')), true,512, JSON_UNESCAPED_UNICODE);
    $districtNewData = json_decode(File::get(database_path('districtNew.json')), true, 512, JSON_UNESCAPED_UNICODE);
    $thanasData = json_decode(File::get(database_path('thanas.json')), true, 512, JSON_UNESCAPED_UNICODE);

    $thanas = [];

    // Process each district from districtOld.json
    foreach ($districtOldData as $oldDistrict) {
        $oldDistrictName = $oldDistrict['name'];

        // Search for the district with the same name in districtNew.json and retrieve its ID
        $matchingDistrictNew = collect($districtNewData)-&gt;firstWhere('name', $oldDistrictName);

        $districtNewId = $matchingDistrictNew ? $matchingDistrictNew['id'] : null;

        $districtbanglaName = $matchingDistrictNew ? $matchingDistrictNew['bn_name'] : null;

        $data = [];
        // Replace the corresponding district ID in thanas.json
        foreach ($thanasData as &amp;$thana) {

            if ($thana['district_id'] == $oldDistrict['id']) {


                //dd([$oldDistrictName, $districtbanglaName], $thana['district_id'] == $oldDistrict['id'], $thana['district_id'] , $districtNewId);
                $thana['district_id'] = $districtNewId;
                 $data['newId'] = $districtNewId;
                $thanas[] = $thana;
            }else{
                //dd($thana['district_id'] , $oldDistrict['id'],$thana, $oldDistrict, $districtbanglaName, $districtNewId);
            }
        }
    }
    // Save the modified thanas.json file
    File::put(database_path('thanas-update.json'), json_encode($thanas, JSON_UNESCAPED_UNICODE | JSON_PRETTY_PRINT));

    return &quot;District ID replacement for all districts completed successfully.&quot;;
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.89a1812a.js" defer></script><script src="/assets/js/2.733019b2.js" defer></script><script src="/assets/js/22.b40203fe.js" defer></script>
  </body>
</html>
